

.. _sphx_glr_generated_gallery_solar_cycle_example.py:


===============
The Solar Cycle
===============

This example shows the current and possible next solar cycle.



.. code-block:: python

    from __future__ import print_function, division

    import datetime
    import matplotlib.pyplot as plt

    import sunpy.timeseries as ts
    from sunpy.data.sample import NOAAINDICES_TIMESERIES, NOAAPREDICT_TIMESERIES







For this example we will use the SunPy sample data, if you want the current
data, delete the argument to the ``create`` function. i.e.
``noaa = lc.NOAAIndicesLightCurve.create()``



.. code-block:: python


    noaa = ts.TimeSeries(NOAAINDICES_TIMESERIES, source='noaaindices')
    noaa_predict = ts.TimeSeries(NOAAPREDICT_TIMESERIES, source='noaapredictindices')







Next lets grab the data again to create a new data structure that we will
shift by 12 years to simulate the next solar cycle. We will truncate the
data to only plot what is necessary.



.. code-block:: python


    noaa2 = ts.TimeSeries(NOAAINDICES_TIMESERIES, source='noaaindices')
    noaa2.data = noaa2.data.shift(2, freq=datetime.timedelta(days=365*12))
    noaa2 = noaa2.truncate('2021/04/01', '2030/01/01')







Finally lets plot everything together with some arbitrary range for the
strength of the next solar cycle.



.. code-block:: python


    plt.plot(noaa.data.index, noaa.data['sunspot RI'], label='Sunspot Number')
    plt.plot(noaa_predict.data.index, noaa_predict.data['sunspot'],
             color='grey', label='Near-term Prediction')
    plt.fill_between(noaa_predict.data.index, noaa_predict.data['sunspot low'],
                     noaa_predict.data['sunspot high'], alpha=0.3, color='grey')

    plt.fill_between(noaa2.data.index, noaa2.data['sunspot RI smooth']*0.4,
                     noaa2.data['sunspot RI smooth']*1.3, alpha=0.3, color='grey',
                     label='Next Cycle Predict')
    plt.ylim(0)
    plt.text('2011-01-01', 120, 'Cycle 24', fontsize=16)
    plt.text('2024-01-01', 120, 'Cycle 25', fontsize=16)
    plt.ylabel('Sunspot Number')
    plt.xlabel('Year')
    plt.legend(loc=2, framealpha=0.5)
    plt.show()



.. image:: /generated/gallery/images/sphx_glr_solar_cycle_example_001.png
    :align: center




**Total running time of the script:** ( 0 minutes  0.249 seconds)



.. container:: sphx-glr-footer


  .. container:: sphx-glr-download

     :download:`Download Python source code: solar_cycle_example.py <solar_cycle_example.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: solar_cycle_example.ipynb <solar_cycle_example.ipynb>`

.. rst-class:: sphx-glr-signature

    `Generated by Sphinx-Gallery <https://sphinx-gallery.readthedocs.io>`_
