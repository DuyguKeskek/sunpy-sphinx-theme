
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Units and Coordinates in SunPy &#8212; SunPy v0.8.dev8694</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.8.dev8694',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="../_static/version.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Time in SunPy" href="time.html" />
    <link rel="prev" title="Plotting in SunPy" href="plotting.html" /><!-- Facebook OpenGraph -->
    <meta property="og:title" content="Units and Coordinates in SunPy | SunPy v0.8.dev8694" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="/guide/units-coordinates.html" />
    <meta property="og:image" content="/_static/img/sunpy_icon.svg" />
    <meta property="og:description" content="" />
    <meta property="og:site_name" content="SunPy v0.8.dev8694" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
  </head>
  <body role="document">


<div id="navbar" class="navbar navbar-default navbar-fixed-top">
  <div class="container">
	  <div class="navbar-header">
	    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
	      <span class="icon-bar"></span>
	      <span class="icon-bar"></span>
	      <span class="icon-bar"></span>
	    </button>
	    <a class="navbar-brand" href="http://sunpy.org">SunPy</a>
	    <span class="navbar-text navbar-version pull-left"><b></b></span>
	  </div>
	  <div class="collapse navbar-collapse nav-collapse">
	    <ul class="nav navbar-nav">
		    
		    <div class="collapse navbar-collapse nav-collapse">
			    <ul class="nav navbar-nav navbar-left">
			    	<li class="dropdown">
			    	 <a role="button" id="dLabelGlobalToc" data-toggle="dropdown" data-target="#" href="#">About<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li class="dropdown-submenu">
                  <a href="https://duygukeskek.github.io/sunpy-website/about.html">About</a>
                </li>
                <li class="dropdown-submenu">
                  <a href="https://duygukeskek.github.io/sunpy-website/about.html#acknowledging-sunpy">Acknowledge</a>
            		</li>
            		<li class="dropdown-submenu">
                  <a href="https://github.com/sunpy/sunpy/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a>
            		</li>
              </ul>              
			      </li>
			      <li><a href="https://duygukeskek.github.io/sunpy-website/blog.html">Blog</a></li>
			      <li class="dropdown">
			    	 <a role="button" id="dLabelGlobalToc" data-toggle="dropdown" data-target="#" href="#">Documentation<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li class="dropdown-submenu">
                  <a href="http://sunpy.org/sunpy-sphinx-theme/index.html">SunPy</a>
                </li>
                <li class="dropdown-submenu">
                  <a href="http://docs.sunpy.org/projects/irispy/en/latest/">IRISPy</a>
            		</li>
            		<li class="dropdown-submenu">
                  <a href="http://docs.sunpy.org/projects/solarbextrapolation/en/latest/">SolarBExtrapolation</a>
            		</li>
            		<li class="dropdown-submenu">
                  <a href="http://docs.sunpy.org/projects/sunkit-sst/en/latest/index.html">sunkit-sst</a>
            		</li>
              </ul>              
			      </li>
			      <li><a href="../index.html">Documentation</a></li>
       	        <div class="social-links">
        			<a href="https://twitter.com/share" class="twitter-share-button" data-via="sunpyproject">Tweet</a>
				    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
        	        <iframe src="https://ghbtns.com/github-btn.html?user=sunpy&repo=sunpy&type=star&count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe>
        	       </div>
	        	
	    	
	        </ul>
	    </div>	    
      </ul>
	  </div>
  </div>
</div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary">

    <p class="doc-title">
        <a style="padding-left: 0" href="../index.html">SunPy 0.8.dev8694</a>
    </p>
    <form class="navbar-form navbar-right" action="../search.html" method="get">
        <div class="form-group">
            <input type="text" name="q" class="form-control" placeholder="Search" />
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
    <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">SunPy User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation/index.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tour.html">A brief tour of SunPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="acquiring_data/index.html">Acquiring Data with SunPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_types/index.html">Data Types in SunPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting.html">Plotting in SunPy</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Units and Coordinates in SunPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="time.html">Time in SunPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="roi.html">Region of Interest</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization.html">Customizing SunPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../code_ref/index.html">Code Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generated/gallery/index.html">Example Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_guide/index.html">Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testingfeatures.html">Testing new features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bugs.html">Reporting Bugs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ssw.html">SSWIDL/SunPy Cheat Sheet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Full Changelog</a></li>
</ul>


        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="units-and-coordinates-in-sunpy">
<span id="units-coordinates-sunpy"></span><h1>Units and Coordinates in SunPy<a class="headerlink" href="#units-and-coordinates-in-sunpy" title="Permalink to this headline">¶</a></h1>
<p>This section of the guide will talk about representing physical units and
coordinates in space in SunPy. SunPy makes use of <a class="reference external" href="astropy.org">Astropy</a> for
both these tasks.</p>
<div class="section" id="units-in-sunpy">
<h2>Units in SunPy<a class="headerlink" href="#units-in-sunpy" title="Permalink to this headline">¶</a></h2>
<p>All functions in SunPy that accept or return numbers associated with physcial
quantities accept and return <a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">astropy.units.Quantity</span></code></a> objects. These objects
represent a number (or an array of numbers) and a unit. This means SunPy is
always explicit about the units associated with a value. Quantities and units
are powerful tools for keeping track of variables with physical meaning and
make it straightforward to convert the same physical quantity into different units.</p>
<p>In this section of the guide we will give a quick introduction to <a class="reference external" href="http://docs.astropy.org/en/stable/units/index.html#module-astropy.units" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">astropy.units</span></code></a>
and then demostrate how to use units with SunPy.</p>
<p>To use units we must first import them from Astropy. To save on typing we usually
import units as <code class="docutils literal"><span class="pre">u</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">astropy.units</span> <span class="k">as</span> <span class="nn">u</span>
</pre></div>
</div>
<p>Once we have imported units we can create a quantity by mutltiplying a number by
a unit:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">length</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">meter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span>
<span class="go">&lt;Quantity 10.0 m&gt;</span>
</pre></div>
</div>
<p>A <a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">Quantity</span></code></a> has both a <code class="docutils literal"><span class="pre">.unit</span></code> and a <code class="docutils literal"><span class="pre">.value</span></code> attribute:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="o">.</span><span class="n">value</span>
<span class="go">10.0</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="o">.</span><span class="n">unit</span>
<span class="go">Unit(&quot;m&quot;)</span>
</pre></div>
</div>
<p>These <a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">Quantity</span></code></a> objects can also be converted to other units, or
unit systems:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">km</span><span class="p">)</span>
<span class="go">&lt;Quantity 0.01 km&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span><span class="o">.</span><span class="n">cgs</span>
<span class="go">&lt;Quantity 1000.0 cm&gt;</span>
</pre></div>
</div>
<p>Probably most usefully, <a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.units.Quantity.html#astropy.units.Quantity" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">Quantity</span></code></a> objects will propogate units
through arithmetic operations when appropriate:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">distance_start</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">mm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">distance_end</span> <span class="o">=</span> <span class="mi">23</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">km</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span> <span class="o">=</span> <span class="n">distance_end</span> <span class="o">-</span> <span class="n">distance_start</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">length</span>
<span class="go">&lt;Quantity 22.99999 km&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">minute</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">speed</span> <span class="o">=</span> <span class="n">length</span> <span class="o">/</span> <span class="n">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">speed</span>
<span class="go">&lt;Quantity 1.5333326666666667 km / min&gt;</span>
</pre></div>
</div>
<p>However, operations which do not make physical sense for the units specified will cause an error:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">length</span> <span class="o">+</span> <span class="n">time</span>
<span class="gp">...</span>
<span class="go">astropy.units.core.UnitConversionError: Can only apply &#39;add&#39; function to quantities with compatible dimensions</span>
</pre></div>
</div>
</div>
<div class="section" id="quantities-as-function-arguments">
<h2>Quantities as function arguments<a class="headerlink" href="#quantities-as-function-arguments" title="Permalink to this headline">¶</a></h2>
<p>An extremely useful addition to the base functionality of Quanitities is the <code class="docutils literal"><span class="pre">&#64;u.quantity_input</span></code> decorator.
This allows you to specify required units for function arguments to ensure that the calculation within that
function always make physical sense. For instance, if we defined a function to calculate speed as above,
we might want the distance and time as inputs:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">speed</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">length</span> <span class="o">/</span> <span class="n">time</span>
</pre></div>
</div>
<p>However, this requires that length and time both have the appropriate units. We therefore want to use
<a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.units.quantity_input.html#astropy.units.quantity_input" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">quantity_input</span></code></a> to enforce this, here we use
<a class="reference external" href="http://python-3-for-scientists.readthedocs.io/en/latest/python3_user_features.html#function-annotations">function annotations</a>
to specify the units (this is a Python 3.5+ feature, see the
<a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.units.quantity_input.html#astropy.units.quantity_input" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">quantity_input</span></code></a> documentation for more details and Python 2 instructions):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="nd">@u</span><span class="o">.</span><span class="n">quantity_input</span>
<span class="k">def</span> <span class="nf">speed</span><span class="p">(</span><span class="n">length</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="n">time</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">length</span> <span class="o">/</span> <span class="n">time</span>
</pre></div>
</div>
<p>Now, when this function is called, if the units of length and time are not convertible to the units specified,
an error will be raised stating that the units are incorrect or missing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">speed</span><span class="p">(</span><span class="mi">1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">astropy.units.core.UnitsError: Argument &#39;time&#39; to function &#39;speed&#39; must be in units convertible to &#39;s&#39;.</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">speed</span><span class="p">(</span><span class="mi">1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">TypeError: Argument &#39;time&#39; to function &#39;speed&#39; has no &#39;unit&#39; attribute. You may want to pass in an astropy Quantity instead.</span>
</pre></div>
</div>
<p>Note that the units of the inputs do not have to be exactly the same as those in the function definition, as long
as they can be converted to those units. So for instance, passing in a time in minutes still works even though we
specified <code class="xref py py-obj docutils literal"><span class="pre">time:</span> <span class="pre">u.s</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">speed</span><span class="p">(</span><span class="mi">1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="mi">1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">minute</span><span class="p">)</span>
<span class="go">&lt;Quantity 1.0 m / min&gt;</span>
</pre></div>
</div>
<p>This may still not be quite as we want it, since we wanted the input time in seconds but the output is in m/min.
We can correct this by defining the function with an additional annotation:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="nd">@u</span><span class="o">.</span><span class="n">quantity_input</span>
<span class="k">def</span> <span class="nf">speed</span><span class="p">(</span><span class="n">length</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="n">time</span><span class="p">:</span> <span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="o">/</span><span class="n">u</span><span class="o">.</span><span class="n">s</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">length</span> <span class="o">/</span> <span class="n">time</span>
</pre></div>
</div>
<p>This will force the output of the function to be converted to m/s before returning, so that you will always
have the same units on the output from this function:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">speed</span><span class="p">(</span><span class="mi">1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="mi">1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">minute</span><span class="p">)</span>
<span class="go">&lt;Quantity 0.016666666666666666 m / s&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="physical-coordinates-in-sunpy">
<h2>Physical Coordinates in SunPy<a class="headerlink" href="#physical-coordinates-in-sunpy" title="Permalink to this headline">¶</a></h2>
<p>In much the same way as <a class="reference external" href="http://docs.astropy.org/en/stable/units/index.html#module-astropy.units" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">units</span></code></a> are used for representing physical
quantities, SunPy uses <a class="reference external" href="http://docs.astropy.org/en/stable/coordinates/index.html#module-astropy.coordinates" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">astropy.coordinates</span></code></a> to represent points in physical
space. This applies to both points in 3D space and projected coordinates in
images.</p>
<p>The astropy coordinates module is primarily used through the
<a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">SkyCoord</span></code></a> class:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">astropy.coordinates</span> <span class="k">import</span> <span class="n">SkyCoord</span>
</pre></div>
</div>
<p>To enable the use of the solar physics specific frames defined in SunPy we also
need to import them:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sunpy.coordinates</span> <span class="k">import</span> <span class="n">frames</span>
</pre></div>
</div>
<p>A SkyCoord object to represent a point on the Sun can then be created:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="mi">70</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">,</span> <span class="o">-</span><span class="mi">30</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">,</span> <span class="n">obstime</span><span class="o">=</span><span class="s2">&quot;2017-08-01&quot;</span><span class="p">,</span>
<span class="go">                 frame=frames.HeliographicStonyhurst)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">&lt;SkyCoord (HeliographicStonyhurst: obstime=None): (lon, lat, rad) in (deg, deg, km)</span>
<span class="go">    (70.0, -30.0, 695508.0)&gt;</span>
</pre></div>
</div>
<p>This <a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">SkyCoord</span></code></a> object can then be transformed to any
other coordinate frame defined either in Astropy or SunPy, for example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="n">frames</span><span class="o">.</span><span class="n">Helioprojective</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="observer-location">
<h3>Observer Location<a class="headerlink" href="#observer-location" title="Permalink to this headline">¶</a></h3>
<p>Both <a class="reference internal" href="../api/sunpy.coordinates.frames.Helioprojective.html#sunpy.coordinates.frames.Helioprojective" title="sunpy.coordinates.frames.Helioprojective"><code class="xref py py-obj docutils literal"><span class="pre">Helioprojective</span></code></a> and
<a class="reference internal" href="../api/sunpy.coordinates.frames.Heliocentric.html#sunpy.coordinates.frames.Heliocentric" title="sunpy.coordinates.frames.Heliocentric"><code class="xref py py-obj docutils literal"><span class="pre">Heliocentric</span></code></a> frames are defined based on the
position of the observer. Therefore to transform either of these frames to a
different frame the location of the observer must be known. The default
observer is the Earth. A different observer can be specified for a coordinate
object using the <code class="docutils literal"><span class="pre">observer</span></code> argument to <a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">SkyCoord</span></code></a>.
For SunPy to calculate the location of the Earth, it must know the time for
which the coordinate is valid; this is specified with the <code class="docutils literal"><span class="pre">obstime</span></code> argument.</p>
<p>Using the observer location it is possible to convert a coordinate as seen by
one observer to a coordinate seen by another:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hpc1</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="mi">0</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcsec</span><span class="p">,</span> <span class="mi">0</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcsec</span><span class="p">,</span> <span class="n">observer</span><span class="o">=</span><span class="s2">&quot;earth&quot;</span><span class="p">,</span>
<span class="go">                    obstime=&quot;2017-07-26&quot;,</span>
<span class="go">                    frame=frames.Helioprojective)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">hpc1</span><span class="o">.</span><span class="n">transform_to</span><span class="p">(</span><span class="n">frames</span><span class="o">.</span><span class="n">Helioprojective</span><span class="p">(</span><span class="n">observer</span><span class="o">=</span><span class="s2">&quot;venus&quot;</span><span class="p">,</span>
<span class="go">                                             obstime=&quot;2017-07-26&quot;))</span>
<span class="go">&lt;SkyCoord (Helioprojective: obstime=2017-07-26 00:00:00, rsun=695508.0 km, observer=&lt;HeliographicStonyhurst Coordinate (obstime=2017-07-26 00:00:00): (lon, lat, radius) in (deg, deg, AU)</span>
<span class="go">  ( 77.03547231,  3.17032536,  0.72510629)&gt;): (Tx, Ty, distance) in (arcsec, arcsec, km)</span>
<span class="go">  (-1285.11970265,  106.17983302,   1.08317783e+08)&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="using-coordinates-with-sunpy-map">
<h3>Using Coordinates with SunPy Map<a class="headerlink" href="#using-coordinates-with-sunpy-map" title="Permalink to this headline">¶</a></h3>
<p>SunPy Map uses coordinates to specify locations on the image, and to plot
overlays on plots of maps. When a Map is created a coordinate frame is
constructed from the header information. This can be accessed using
<code class="docutils literal"><span class="pre">.coordinate_frame</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sunpy.map</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sunpy.data.sample</span> <span class="k">import</span> <span class="n">AIA_171_IMAGE</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">sunpy</span><span class="o">.</span><span class="n">map</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">AIA_171_IMAGE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">coordinate_frame</span>
<span class="go">&lt;Helioprojective Frame (obstime=2011-06-07 06:33:02.770000, rsun=696000000.0 m, observer=&lt;HeliographicStonyhurst Coordinate (obstime=None): (lon, lat, radius) in (deg, deg, m)</span>
<span class="go">  ( 0.,  0.048591,   1.51846026e+11)&gt;)&gt;</span>
</pre></div>
</div>
<p>This can be used when creating a <a class="reference external" href="http://docs.astropy.org/en/stable/api/astropy.coordinates.SkyCoord.html#astropy.coordinates.SkyCoord" title="(in Astropy v2.0.1)"><code class="xref py py-obj docutils literal"><span class="pre">SkyCoord</span></code></a> object to set
the coordinate system to that image:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">SkyCoord</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">arcsec</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">arcsec</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">coordinate_frame</span><span class="p">)</span>
<span class="go">&lt;SkyCoord (Helioprojective: obstime=2011-06-07 06:33:02.770000, rsun=696000000.0 m, observer=&lt;HeliographicStonyhurst Coordinate (obstime=None): (lon, lat, radius) in (deg, deg, m)</span>
<span class="go">  ( 0.,  0.048591,   1.51846026e+11)&gt;): (Tx, Ty) in arcsec</span>
<span class="go">  ( 100.,  10.)&gt;</span>
</pre></div>
</div>
<p>For more information on coordinates see <a class="reference internal" href="../code_ref/coordinates.html#sunpy-coordinates"><span class="std std-ref">SunPy coordinates</span></a> section of
the <a class="reference internal" href="../code_ref/index.html#reference"><span class="std std-ref">Code Reference</span></a>.</p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017, The SunPy Community.<br/>
      Last updated on 14 Aug 2017.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>